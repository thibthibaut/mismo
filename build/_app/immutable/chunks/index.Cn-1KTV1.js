import{A as k,P as z,a7 as de,aa as _e,M as he,w as me,L as ge,ao as se,N as ye,O as Q,Q as V,B as F,ak as pe,av as D,R as ne,x as ie,T as be,I as G,aw as xe,ax as we,an as Ee,ay as ke,z as Ae,ac as le,a5 as Te,F as X,az as Ne,aA as Se,aB as Ie,ai as Ce,aC as Re,aD as Oe,E as He,aE as Me,aF as Fe,aq as Le,i as fe,aG as Pe,ae as De,y as L,aH as Be,ab as Z,$,aI as We,ar as Ge,c as T,r as E,s as M,t as J,p as qe,d as j,g as w,l as ze,a as Ve,b as Ue,m as ee,f as Ye}from"./runtime.BYmxHEYc.js";import{a as Je,b as Ke,l as Qe,s as B}from"./render.B-6WVgCH.js";import{a as R,t as O}from"./disclose-version.CTQXdc_7.js";import"./legacy.CBGdgsew.js";import{p as C,i as W}from"./props.VDm8niNF.js";import{i as Xe}from"./lifecycle.QqYsvlCh.js";import{o as Ze}from"./index-client.BMHM-_7N.js";function $e(a,e,r,n){for(var i=[],f=e.length,t=0;t<f;t++)we(e[t].e,i,!0);var m=f>0&&i.length===0&&r!==null;if(m){var h=r.parentNode;Ee(h),h.append(r),n.clear(),I(a,e[0].prev,e[f-1].next)}ke(i,()=>{for(var u=0;u<f;u++){var c=e[u];m||(n.delete(c.k),I(a,c.prev,c.next)),Ae(c.e,!m)}})}function je(a,e,r,n,i,f=null){var t=a,m={flags:e,items:new Map,first:null};{var h=a;t=k?z(de(h)):h.appendChild(_e())}k&&he();var u=null,c=!1;me(()=>{var s=r(),v=ge(s)?s:s==null?[]:se(s),o=v.length;if(c&&o===0)return;c=o===0;let l=!1;if(k){var d=t.data===ye;d!==(o===0)&&(t=Q(),z(t),V(!1),l=!0)}if(k){for(var p=null,g,_=0;_<o;_++){if(F.nodeType===8&&F.data===pe){t=F,l=!0,V(!1);break}var x=v[_],A=n(x,_);g=oe(F,m,p,null,x,A,_,i,e),m.items.set(A,g),p=g}o>0&&z(Q())}if(!k){var y=le;ea(v,m,t,i,e,(y.f&D)!==0,n)}f!==null&&(o===0?u?ne(u):u=ie(()=>f(t)):u!==null&&be(u,()=>{u=null})),l&&V(!0),r()}),k&&(t=F)}function ea(a,e,r,n,i,f,t,m){var h=a.length,u=e.items,c=e.first,s=c,v,o=null,l=[],d=[],p,g,_,x;for(x=0;x<h;x+=1){if(p=a[x],g=t(p,x),_=u.get(g),_===void 0){var A=s?s.e.nodes_start:r;o=oe(A,e,o,o===null?e.first:o.next,p,g,x,n,i),u.set(g,o),l=[],d=[],s=o.next;continue}if(aa(_,p,x),_.e.f&D&&ne(_.e),_!==s){if(v!==void 0&&v.has(_)){if(l.length<d.length){var y=d[0],b;o=y.prev;var H=l[0],S=l[l.length-1];for(b=0;b<l.length;b+=1)ae(l[b],y,r);for(b=0;b<d.length;b+=1)v.delete(d[b]);I(e,H.prev,S.next),I(e,o,H),I(e,S,y),s=y,o=S,x-=1,l=[],d=[]}else v.delete(_),ae(_,s,r),I(e,_.prev,_.next),I(e,_,o===null?e.first:o.next),I(e,o,_),o=_;continue}for(l=[],d=[];s!==null&&s.k!==g;)(f||!(s.e.f&D))&&(v??(v=new Set)).add(s),d.push(s),s=s.next;if(s===null)continue;_=s}l.push(_),o=_,s=_.next}if(s!==null||v!==void 0){for(var q=v===void 0?[]:se(v);s!==null;)(f||!(s.e.f&D))&&q.push(s),s=s.next;var ue=q.length;if(ue>0){var ce=h===0?r:null;$e(e,q,ce,u)}}G.first=e.first&&e.first.e,G.last=o&&o.e}function aa(a,e,r,n){xe(a.v,e),a.i=r}function oe(a,e,r,n,i,f,t,m,h,u){var c=(h&Se)!==0,s=(h&Ie)===0,v=c?s?Te(i):X(i):i,o=h&Ne?X(t):t,l={i:o,v,k:f,a:null,e:null,prev:r,next:n};try{return l.e=ie(()=>m(a,v,o),k),l.e.prev=r&&r.e,l.e.next=n&&n.e,r===null?e.first=l:(r.next=l,r.e.next=l.e),n!==null&&(n.prev=l,n.e.prev=l.e),l}finally{}}function ae(a,e,r){for(var n=a.next?a.next.e.nodes_start:r,i=e?e.e.nodes_start:r,f=a.e.nodes_start;f!==n;){var t=Ce(f);i.before(f),f=t}}function I(a,e,r){e===null?a.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function wa(a){if(k){var e=!1,r=()=>{if(!e){if(e=!0,a.hasAttribute("value")){var n=a.value;re(a,"value",null),a.value=n}if(a.hasAttribute("checked")){var i=a.checked;re(a,"checked",null),a.checked=i}}};a.__on_r=r,Re(r),Je()}}function Ea(a,e){var r=a.__attributes??(a.__attributes={});r.value===(r.value=e??void 0)||a.value===e&&(e!==0||a.nodeName!=="PROGRESS")||(a.value=e)}function re(a,e,r,n){var i=a.__attributes??(a.__attributes={});k&&(i[e]=a.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&a.nodeName==="LINK")||i[e]!==(i[e]=r)&&(e==="style"&&"__styles"in a&&(a.__styles={}),e==="loading"&&(a[Oe]=r),a.removeAttribute(e))}const ra=()=>performance.now(),N={tick:a=>requestAnimationFrame(a),now:()=>ra(),tasks:new Set};function ve(){const a=N.now();N.tasks.forEach(e=>{e.c(a)||(N.tasks.delete(e),e.f())}),N.tasks.size!==0&&N.tick(ve)}function ta(a){let e;return N.tasks.size===0&&N.tick(ve),{promise:new Promise(r=>{N.tasks.add(e={c:a,f:r})}),abort(){N.tasks.delete(e)}}}function P(a,e){a.dispatchEvent(new CustomEvent(e))}function sa(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const e=a.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function te(a){const e={},r=a.split(";");for(const n of r){const[i,f]=n.split(":");if(!i||f===void 0)break;const t=sa(i.trim());e[t]=f.trim()}return e}const na=a=>a;function ka(a,e,r,n){var i=(a&Be)!==0,f="both",t,m=e.inert,h,u;function c(){var d=le,p=G;Z(null),$(null);try{return t??(t=r()(e,(n==null?void 0:n())??{},{direction:f}))}finally{Z(d),$(p)}}var s={is_global:i,in(){e.inert=m,P(e,"introstart"),h=K(e,c(),u,1,()=>{P(e,"introend"),h==null||h.abort(),h=t=void 0})},out(d){e.inert=!0,P(e,"outrostart"),u=K(e,c(),h,0,()=>{P(e,"outroend"),d==null||d()})},stop:()=>{h==null||h.abort(),u==null||u.abort()}},v=G;if((v.transitions??(v.transitions=[])).push(s),Ke){var o=i;if(!o){for(var l=v.parent;l&&l.f&He;)for(;(l=l.parent)&&!(l.f&Me););o=!l||(l.f&Fe)!==0}o&&Le(()=>{fe(()=>s.in())})}}function K(a,e,r,n,i){var f=n===1;if(Pe(e)){var t,m=!1;return De(()=>{if(!m){var p=e({direction:f?"in":"out"});t=K(a,p,r,n,i)}}),{abort:()=>{m=!0,t==null||t.abort()},deactivate:()=>t.deactivate(),reset:()=>t.reset(),t:()=>t.t()}}if(r==null||r.deactivate(),!(e!=null&&e.duration))return i(),{abort:L,deactivate:L,reset:L,t:()=>n};const{delay:h=0,css:u,tick:c,easing:s=na}=e;var v=[];if(f&&r===void 0&&(c&&c(0,1),u)){var o=te(u(0,1));v.push(o,o)}var l=()=>1-n,d=a.animate(v,{duration:h});return d.onfinish=()=>{var p=(r==null?void 0:r.t())??1-n;r==null||r.abort();var g=n-p,_=e.duration*Math.abs(g),x=[];if(_>0){if(u)for(var A=Math.ceil(_/16.666666666666668),y=0;y<=A;y+=1){var b=p+g*s(y/A),H=u(b,1-b);x.push(te(H))}l=()=>{var S=d.currentTime;return p+g*s(S/_)},c&&ta(()=>{if(d.playState!=="running")return!1;var S=l();return c(S,1-S),!0})}d=a.animate(x,{duration:_,fill:"forwards"}),d.onfinish=()=>{l=()=>n,c==null||c(n,1-n),i()}},{abort:()=>{d&&(d.cancel(),d.effect=null,d.onfinish=L)},deactivate:()=>{i=L},reset:()=>{n===0&&(c==null||c(1,0))},t:()=>l()}}function Aa(a,e,r=e){var n=We();Qe(a,"input",i=>{var f=i?a.defaultValue:a.value;if(f=U(a)?Y(f):f,r(f),n&&f!==(f=e())){var t=a.selectionStart,m=a.selectionEnd;a.value=f??"",m!==null&&(a.selectionStart=t,a.selectionEnd=Math.min(m,a.value.length))}}),(k&&a.defaultValue!==a.value||fe(e)==null&&a.value)&&r(U(a)?Y(a.value):a.value),Ge(()=>{var i=e();U(a)&&i===Y(a.value)||a.type==="date"&&!i&&!a.value||i!==a.value&&(a.value=i??"")})}function U(a){var e=a.type;return e==="number"||e==="range"}function Y(a){return a===""?null:+a}var ia=O('<span class="text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded">Host</span>'),la=O('<span class="text-green-500">✓</span>'),fa=O('<div class="mt-2 text-sm text-gray-600"> </div>'),oa=O('<div class="p-4 bg-white rounded-lg shadow-sm border border-gray-200"><div class="flex items-center justify-between"><div class="flex items-center space-x-2"><span class="font-medium"> </span> <!></div> <div class="flex items-center space-x-2"><!> <span class="text-sm text-gray-600"> </span></div></div> <!></div>');function va(a,e){let r=C(e,"name",8),n=C(e,"lives",8,7),i=C(e,"isHost",8,!1),f=C(e,"hasPlayed",8,!1),t=C(e,"number",8,0);var m=oa(),h=T(m),u=T(h),c=T(u),s=T(c,!0);E(c);var v=M(c,2);{var o=y=>{var b=ia();R(y,b)};W(v,y=>{i()&&y(o)})}E(u);var l=M(u,2),d=T(l);{var p=y=>{var b=la();R(y,b)};W(d,y=>{f()&&y(p)})}var g=M(d,2),_=T(g);E(g),E(l),E(h);var x=M(h,2);{var A=y=>{var b=fa(),H=T(b);E(b),J(()=>B(H,`Numéro: ${t()??""}`)),R(y,b)};W(x,y=>{t()!==0&&y(A)})}E(m),J(()=>{B(s,r()),B(_,`♥ ${n()??""}`)}),R(a,m)}var ua=O('<p class="text-gray-500">En attente de joueurs...</p>'),ca=O('<div class="space-y-2"></div> <div class="mt-4 text-sm text-gray-600"> </div>',1),da=O(`<div class="container mx-auto"><h2 class="text-xl font-bold mb-4">Salle d'attente</h2> <!></div>`);function Ta(a,e){qe(e,!1);const r=ee();let n=C(e,"gameID",8,""),i=C(e,"playerName",8,""),f=ee({players:{},round:0,state:"waiting"}),t;Ze(()=>{const s=window.location.protocol==="https:"?"wss":"ws";return t=new WebSocket(`${s}://${window.location.host}/ws/game/${n()}`),t.onopen=()=>{t.send(JSON.stringify({type:"join",name:i()}))},t.onmessage=v=>{const o=JSON.parse(v.data);j(f,o),console.log("Game State Updated:",w(f))},t.onclose=()=>{console.log("WebSocket connection closed."),alert("Connection closed.")},t.onerror=v=>{console.error("WebSocket error:",v)},()=>{t&&t.close()}}),ze(()=>w(f),()=>{j(r,Object.values(w(f).players))}),Ve(),Xe();var m=da(),h=M(T(m),2);{var u=s=>{var v=ua();R(s,v)},c=s=>{var v=ca(),o=Ye(v);je(o,5,()=>w(r),p=>p.id,(p,g)=>{va(p,{get name(){return w(g).name},get lives(){return w(g).lives},get isHost(){return w(g).isHost},get hasPlayed(){return w(g).hasPlayed},get number(){return w(g).number}})}),E(o);var l=M(o,2),d=T(l);E(l),J(()=>B(d,`${w(r).length??""} joueur${(w(r).length>1?"s":"")??""} connecté${(w(r).length>1?"s":"")??""}`)),R(s,v)};W(h,s=>{w(r).length===0?s(u):s(c,!1)})}E(m),R(a,m),Ue()}const _a=a=>a;function Na(a,{delay:e=0,duration:r=400,easing:n=_a}={}){const i=+getComputedStyle(a).opacity;return{delay:e,duration:r,easing:n,css:f=>`opacity: ${f*i}`}}export{Ta as W,Aa as b,Na as f,wa as r,Ea as s,ka as t};
